{"updates":[{"pattern":".","multiple":true,"replacement":"<!DOCTYPE html>\n<html lang="ar" dir="rtl">\n<head>\n  <meta charset="UTF-8" />\n  <meta name="viewport" content="width=device-width, initial-scale=1" />\n  <title>ØªØ´ÙÙŠØ± / ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ±</title>\n  <style>\n    :root{--bg:#05070b;--txt:#eaf6ff;--neon:#39f;--neon2:#f39;--panel:#0b111a}\n    {box-sizing:border-box}\n    html,body{height:100%}\n    body{margin:0;background:radial-gradient(1200px 500px at 80% -20%,rgba(57,153,255,.08),transparent 60%),radial-gradient(1000px 500px at -10% 120%,rgba(243,57,153,.08),transparent 60%),var(--bg);color:var(--txt);font-family:"Cairo", system-ui, -apple-system, Segoe UI, Roboto, Noto Sans Arabic, Arial, sans-serif;display:flex;align-items:center;justify-content:center}\n    .wrap{width:min(980px,100%);padding:24px;display:grid;grid-template-columns:1fr;gap:22px}\n    .box{background:var(--panel);border:2px solid rgba(255,255,255,.06);border-radius:18px;padding:16px 16px 14px;box-shadow:0 0 12px rgba(57,153,255,.18) inset}\n    .box h2{margin:0 0 10px;font-size:18px;color:#a8cfff;text-shadow:0 0 8px var(--neon),0 0 18px var(--neon)}\n    .box:nth-child(2) h2{color:#ffaad5;text-shadow:0 0 8px var(--neon2),0 0 18px var(--neon2)}\n    textarea{width:100%;height:180px;background:#02050a;color:var(--txt);border:2px solid var(--neon);border-radius:14px;padding:12px 14px;font-size:15px;line-height:1.6;outline:none;box-shadow:0 0 16px rgba(57,153,255,.35),inset 0 0 24px rgba(57,153,255,.15)}\n    .box:nth-child(2) textarea{border-color:var(--neon2);box-shadow:0 0 16px rgba(243,57,153,.35),inset 0 0 24px rgba(243,57,153,.15)}\n    .row{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}\n    .btn{appearance:none;border:none;border-radius:12px;padding:9px 14px;font-size:15px;background:linear-gradient(135deg,var(--neon),#83c5ff);color:#04121f;cursor:pointer}\n    .btn:active{transform:scale(.98)}\n    .btn.alt{background:linear-gradient(135deg,var(--neon2),#ff9ed2);color:#1a0512}\n  </style>\n  <link rel="preconnect" href="https://fonts.googleapis.com" />\n  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />\n  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@500;700&display=swap" rel="stylesheet" />\n</head>\n<body>\n  <main class="wrap">\n    <section class="box">\n      <h2>ğŸ” Ù‡Ø°Ù‡ Ø®Ø§Ù†Ø© Ø§Ù„ØªØ´ÙÙŠØ±</h2>\n      <textarea id="plain" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ù†Øµ Ù‡Ù†Ø§"></textarea>\n      <div class="row">\n        <button id="enc" class="btn">ØªØ´ÙÙŠØ±</button>\n      </div>\n    </section>\n\n    <section class="box">\n      <h2>ğŸ—ï¸ Ù‡Ø°Ù‡ Ø®Ø§Ù†Ø© ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ±</h2>\n      <textarea id="cipher" placeholder="Ø¶Ø¹ Ø§Ù„Ø±Ù…ÙˆØ² Ù‡Ù†Ø§"></textarea>\n      <div class="row">\n        <button id="dec" class="btn alt">ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ±</button>\n      </div>\n    </section>\n  </main>\n\n<script>(function(){\n  "use strict";\n  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\n  // Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ø£Ø­Ø±Ù\n  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\n  const A_AR = ["Ø§","Ø¨","Øª","Ø«","Ø¬","Ø­","Ø®","Ø¯","Ø°","Ø±","Ø²","Ø³","Ø´","Øµ","Ø¶","Ø·","Ø¸","Ø¹","Øº","Ù","Ù‚","Ùƒ","Ù„","Ù…","Ù†","Ù‡","Ùˆ","ÙŠ","Ø¡","Ø£","Ø¥","Ø¢","Ù‰","Ø©","Ø¤","Ø¦"];\n  const A_EN_L = "abcdefghijklmnopqrstuvwxyz".split("");\n  const A_EN_U = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");\n  const D_AR = ["Ù ","Ù¡","Ù¢","Ù£","Ù¤","Ù¥","Ù¦","Ù§","Ù¨","Ù©"];\n  const D_EN = ["0","1","2","3","4","5","6","7","8","9"];\n  const SYM = [" ","/",".","_","]","[",")","(","-",",",";",":","?","!","\"","'","+","=","@","#","$","%","^","&","<",">","{","}","\\","|","~","`"];\n  // Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„Ù†Ø¬Ù…Ø© * ØºÙŠØ± Ù…Ø´ÙØ±Ø© â€” ØªÙØªØ±Ùƒ ÙƒÙ…Ø§ Ù‡ÙŠ.\n\n  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø­Ø±ÙˆÙ Ù„Ù„Ø±Ù…ÙˆØ² â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\n  const CJK = ["ä¸­","å›½","å¤©","æ—¥","æœˆ","ç«","æ°´","æœ¨","é‡‘","åœŸ","å±±","å·","å¿ƒ","æ–‡","ç‹","ç‰","ç”°","é›¨","é¢¨","èŠ±","è‰","è™«","é­š","é³¥","é›²","æ˜Ÿ","æµ·","é›ª","é›»","é¾","é–€","çŸ³","æ—","æ£®","å…‰","ç©º","æ°—","é“","å­¦","é«˜","å°","å¤§","æœ¬","äºº","æ‰‹","å£","ç›®","è€³","è¶³","åŠ›","å¿ƒ","èª","æ™‚","å…ˆ","ç”Ÿ","ç¤¾","æ ¡","è»Š","éŸ³","å›³","ç”»","æ–°","å¤","é•·","çŸ­","æ—©","å¤š","å°‘","ç™½","é»’","èµ¤","é’","ç·‘","é»„","ç´«","é‡‘","éŠ€","éŠ…","é‰„","ç‰","å®","ç‹","çš‡","å¤©","äº¬","åŒ—","å—","æ±","è¥¿","ä¸­","å¤–","å†…"];\n  const CYR = ["Ğ","Ğ‘","Ğ’","Ğ“","Ğ”","Ğ•","Ğ–","Ğ—","Ğ˜","Ğ™","Ğš","Ğ›","Ğœ","Ğ","Ğ","ĞŸ","Ğ ","Ğ¡","Ğ¢","Ğ£","Ğ¤","Ğ¥","Ğ¦","Ğ§","Ğ¨","Ğ©","Ğª","Ğ«","Ğ¬","Ğ­","Ğ®","Ğ¯"];\n  const JPN = ["ã‚¢","ã‚¤","ã‚¦","ã‚¨","ã‚ª","ã‚«","ã‚­","ã‚¯","ã‚±","ã‚³","ã‚µ","ã‚·","ã‚¹","ã‚»","ã‚½","ã‚¿","ãƒ","ãƒ„","ãƒ†","ãƒˆ","ãƒŠ","ãƒ‹","ãƒŒ","ãƒ","ãƒ","ãƒ","ãƒ’","ãƒ•","ãƒ˜","ãƒ›","ãƒ","ãƒŸ","ãƒ ","ãƒ¡","ãƒ¢","ãƒ¤","ãƒ¦","ãƒ¨","ãƒ©","ãƒª","ãƒ«","ãƒ¬","ãƒ­","ãƒ¯","ãƒ²","ãƒ³"];\n\n  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” ØªÙˆÙ„ÙŠØ¯ Ø±Ù…ÙˆØ² Ø«Ø§Ø¨ØªØ© â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\n  function makeTokenBase(i){\n    const cj = CJK[i % CJK.length];\n    const cy = CYR[Math.floor(i / CJK.length) % CYR.length];\n    return cj + cy + "^"; // Ù„Ø§Ø­Ù‚Ø© ^ Ù„Ù„Ø±Ù…Ø² Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ\n  }\n  function makeTokenCtx(i, suffix){\n    const cj = CJK[i % CJK.length];\n    const cy = CYR[Math.floor(i / CJK.length) % CYR.length];\n    return cj + cy + suffix; // Ù„Ø§Ø­Ù‚Ø§Øª Ø®Ø§ØµØ© Ù„Ù„Ø³ÙŠØ§Ù‚\n  }\n  function makeTokenSym(i){\n    const jp = JPN[i % JPN.length];\n    return jp + ""; // Ù„Ø§Ø­Ù‚Ø© * Ù„Ù„Ø±Ù…ÙˆØ²\n  }\n\n  // Ø¨Ù†Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§Ø±Ù Ø§Ù„ØªÙŠ Ø³Ù†Ø´ÙØ±Ù‡Ø§ (Ø¹Ø¯Ø§ )\n  const BASE_CHARS = [...A_AR, ...A_EN_L, ...A_EN_U, ...D_AR, ...D_EN];\n  const ALL_CHARS = [...BASE_CHARS, ...SYM.filter(s=>s!=="")];\n\n  // Ø®Ø±Ø§Ø¦Ø· Ø§Ù„ØªØ´ÙÙŠØ± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\n  const baseMap = Object.create(null);\n  const baseRev = Object.create(null);\n  for(let i=0;i<BASE_CHARS.length;i++){\n    const ch = BASE_CHARS[i];\n    const tk = makeTokenBase(i);\n    baseMap[ch] = tk;\n    baseRev[tk] = ch;\n  }\n\n  // Ø®Ø±Ø§Ø¦Ø· Ø§Ù„Ø±Ù…ÙˆØ² (Symbols) â€” Ù„Ø§Ø­Ù‚Ø© * â€” Ù…Ø§ Ø¹Ø¯Ø§ * Ù†ÙØ³Ù‡\n  const symMap = Object.create(null);\n  const symRev = Object.create(null);\n  for(let i=0;i<SYM.length;i++){\n    const ch = SYM[i];\n    if(ch === "") continue; // Ø§Ù„Ù†Ø¬Ù…Ø© ØºÙŠØ± Ù…Ø´ÙØ±Ø©\n    const tk = makeTokenSym(i);\n    symMap[ch] = tk;\n    symRev[tk] = ch;\n  }\n\n  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” Ù‚ÙˆØ§Ø¹Ø¯ Ø³ÙŠØ§Ù‚ÙŠØ© â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\n  // Ø£ÙŠ Ø­Ø±Ù ÙŠØ£ØªÙŠ Ø¨Ø¹Ø¯: Ø³ Ø£Ùˆ Ù† Ø£Ùˆ Ø§ â€”> ÙŠØ£Ø®Ø° Ø±Ù…Ø²Ù‹Ø§ Ø®Ø§ØµÙ‹Ø§ (Ù„Ø§Ø­Ù‚Ø§Øª Ù…Ø®ØªÙ„ÙØ© Ù„ÙƒÙ„ Ø­Ø§Ù„Ø©)\n  const CTX_TRIGGERS = { S:"Ø³", N:"Ù†", A:"Ø§" };\n  const SUF_S = "ášœ"; // Ù„Ø§Ø­Ù‚Ø© ÙØ±ÙŠØ¯Ø© Ù„Ù„Ø³ÙŠØ§Ù‚ Ø¨Ø¹Ø¯ Ø³\n  const SUF_N = "áš›"; // Ù„Ø§Ø­Ù‚Ø© ÙØ±ÙŠØ¯Ø© Ù„Ù„Ø³ÙŠØ§Ù‚ Ø¨Ø¹Ø¯ Ù†\n  const SUF_A = "á›¯"; // Ù„Ø§Ø­Ù‚Ø© ÙØ±ÙŠØ¯Ø© Ù„Ù„Ø³ÙŠØ§Ù‚ Ø¨Ø¹Ø¯ Ø§\n\n  const ctxS = Object.create(null), ctxN = Object.create(null), ctxA = Object.create(null);\n  const ctxSRev = Object.create(null), ctxNRev = Object.create(null), ctxARev = Object.create(null);\n\n  // Ù†Ù†Ø´Ø¦ Ø±Ù…ÙˆØ²Ù‹Ø§ Ø®Ø§ØµØ© Ù„ÙƒÙ„ Ø­Ø±Ù Ø£Ø³Ø§Ø³ÙŠ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠØ£ØªÙŠ Ø¨Ø¹Ø¯ (Ø³/Ù†/Ø§)\n  for(let i=0;i<BASE_CHARS.length;i++){\n    const ch = BASE_CHARS[i];\n    const tkS = makeTokenCtx(i, SUF_S);\n    const tkN = makeTokenCtx(i, SUF_N);\n    const tkA = makeTokenCtx(i, SUF_A);\n    ctxS[ch] = tkS; ctxSRev[tkS] = ch;\n    ctxN[ch] = tkN; ctxNRev[tkN] = ch;\n    ctxA[ch] = tkA; ctxARev[tkA] = ch;\n  }\n\n  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ´ÙÙŠØ± / ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ± â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\n  function encodeText(str){\n    const out = [];\n    let prev = "";\n    for(const ch of str){\n      if(ch === "") { out.push(""); prev = ch; continue; }\n      // Ø±Ù…ÙˆØ² (symbols)\n      if(ch in symMap){ out.push(symMap[ch]); prev = ch; continue; }\n      // Ø£Ø­Ø±Ù/Ø£Ø±Ù‚Ø§Ù…\n      const baseTk = baseMap[ch];\n      if(!baseTk){ // ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ: Ù†Ø­ÙØ¸Ù‡ Ø¨ÙŠÙ† Ø£Ù‚ÙˆØ§Ø³ Ù„ÙŠØ¨Ù‚Ù‰ Ù‚Ø§Ø¨Ù„Ø§Ù‹ Ù„Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹\n        out.push("âŸ¨"+ch+"âŸ©"); prev = ch; continue;\n      }\n      // Ù‚ÙˆØ§Ø¹Ø¯ Ø³ÙŠØ§Ù‚ÙŠØ©\n      if(prev === CTX_TRIGGERS.S){ out.push(ctxS[ch]); prev = ch; continue; }\n      if(prev === CTX_TRIGGERS.N){ out.push(ctxN[ch]); prev = ch; continue; }\n      if(prev === CTX_TRIGGERS.A){ out.push(ctxA[ch]); prev = ch; continue; }\n      // Ø¹Ø§Ø¯ÙŠ\n      out.push(baseTk); prev = ch;\n    }\n    return out.join(" ");\n  }\n\n  function decodeText(str){\n    if(!str) return "";\n    const toks = str.trim().split(/\s+/);\n    let out = "";\n    for(const t of toks){\n      if(t === "") { out += ""; continue; }\n      if(t in symRev){ out += symRev[t]; continue; }\n      if(t in ctxSRev){ out += ctxSRev[t]; continue; }\n      if(t in ctxNRev){ out += ctxNRev[t]; continue; }\n      if(t in ctxARev){ out += ctxARev[t]; continue; }\n      if(t in baseRev){ out += baseRev[t]; continue; }\n      if(t.startsWith("âŸ¨") && t.endsWith("âŸ©")) { out += t.slice(1,-1); continue; }\n      // Ù„Ùˆ Ø±Ù…Ø² ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØŒ Ù†Ø¹ÙŠØ¯Ù‡ ÙƒÙ…Ø§ Ù‡Ùˆ\n      out += t;\n    }\n    return out;\n  }\n\n  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” Ø±Ø¨Ø· Ø§Ù„Ø£Ø²Ø±Ø§Ø± â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\n  const $ = id=>document.getElementById(id);\n  Object.freeze(baseMap);Object.freeze(baseRev);Object.freeze(symMap);Object.freeze(symRev);\n  Object.freeze(ctxS);Object.freeze(ctxN);Object.freeze(ctxA);\n  Object.freeze(ctxSRev);Object.freeze(ctxNRev);Object.freeze(ctxARev);\n\n  $("enc").addEventListener("click", function(){\n    try{ $("cipher").value = encodeText($("plain").value); }catch(e){ /* ØµØ§Ù…Øª / }\n  }, {passive:true});\n\n  $("dec").addEventListener("click", function(){\n    try{ $("plain").value = decodeText($("cipher").value); }catch(e){ / ØµØ§Ù…Øª */ }\n  }, {passive:true});\n})();</script>\n</body>\n</html>"}]}

